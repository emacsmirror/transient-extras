#+title: lp-transient.el - A transient menu for lp
#+author: Al Haji-Ali
#+language: en
#+export_file_name: lp-transient.texi
#+texinfo_dir_category: Emacs misc features
#+texinfo_dir_title: lp-transient: (lp-transient).
#+texinfo_dir_desc: A transient menu for lp

* Introduction

=lp-transient= provides a menu based on [[https://github.com/magit/transient/][transient]] to call the CUPS printing
program =lp= on the current buffer or a selected file.

#+CAPTION: Printing menu
[[file:lp-transient.png]]

* Configuration

=lp-transient= can be enabled for =dired= and [[https://github.com/vedang/pdf-tools/][pdf-tools]] buffers as follows
(make sure that =lp-transient.el= is in ~load-path~)

#+begin_src emacs-lisp
  (require 'lp-transient)

  (with-eval-after-load 'dired
    (define-key
      dired-mode-map
      (kbd "C-c C-p") #'lp-transient-menu))

  (with-eval-after-load 'pdf-tools
    (define-key
      pdf-misc-minor-mode-map
      (kbd "C-c C-p") #'lp-transient-menu))
#+end_src

Or simply call =lp-transient= to print the current buffer or the selected
files in =dired=. If a buffer has an associated file, the file is printed,
otherwise the buffer content is sent to =lp=.

* Additional Features
By pressing =d=, you can input the name of the printer. The command =lpstat
-a= is used to get a list of installed and network printers. If you have
[[https://github.com/haji-ali/async-completing-read][async-completing-read]] installed then the command will be run asynchronously.
